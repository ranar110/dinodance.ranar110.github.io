<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DINOFLIX</title>
  <link rel="stylesheet" href="style.css">

  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "three": "https://esm.sh/three@0.160.0",
        "@react-three/fiber": "https://esm.sh/@react-three/fiber@8.15.14?external=react,react-dom,three",
        "@react-three/drei": "https://esm.sh/@react-three/drei@9.96.1?external=react,react-dom,three,@react-three/fiber",
        "wouter": "https://esm.sh/wouter@3.0.0?external=react,react-dom"
      }
    }
  </script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      opacity: 0;
      animation: fadeIn 0.5s forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel" data-type="module">
    import React, { useState, useEffect, useRef, useMemo } from 'react';
    import { createRoot } from 'react-dom/client';
    import * as THREE from 'three';
    import { Canvas, useFrame } from '@react-three/fiber';
    import { Stars, Float } from '@react-three/drei';
    import { Link, Route, Switch, useLocation } from 'wouter';

    // --- 50 DINOSAURS DATABASE ---
    // Tags: carnivore, herbivore, omnivore, aquatic, flying, aggressive, peaceful, fast, slow, smart, tank, giant, social, solitary
    const dinoData = [
      { id: 'trex', name: 'Tyrannosaurus Rex', tags: ['carnivore', 'aggressive', 'giant', 'solitary'], desc: 'The King. Unstoppable force, dominant energy, and a bite force that commands respect everywhere.', img: './images/Tyrannosaurus Rex.jpg' },
      { id: 'triceratops', name: 'Triceratops', tags: ['herbivore', 'peaceful', 'tank', 'social'], desc: 'The Guardian. Steadfast and defensive, ready to protect the herd with formidable horns.', img: './images/Triceratops.jpg' },
      { id: 'raptor', name: 'Velociraptor', tags: ['carnivore', 'aggressive', 'fast', 'smart', 'social'], desc: 'The Hunter. Cunning, intelligent, and always three steps ahead of the competition.', img: './images/Velociraptor.jpg' },
      { id: 'stegosaurus', name: 'Stegosaurus', tags: ['herbivore', 'peaceful', 'tank', 'slow'], desc: 'The Tank. Chill vibes, armored soul, and carries a spiked surprise for anyone who disturbs the peace.', img: './images/Stegosaurus.jpg' },
      { id: 'brachiosaurus', name: 'Brachiosaurus', tags: ['herbivore', 'peaceful', 'giant', 'slow'], desc: 'The Gentle Giant. Reaching for the highest goals (and leaves), preferring a serene existence.', img: './images/Brachiosaurus.jpg' },
      { id: 'ankylosaurus', name: 'Ankylosaurus', tags: ['herbivore', 'peaceful', 'tank', 'solitary'], desc: 'The Living Fortress. Heavily armored and resilient, preferring solitude unless provoked.', img: './images/Ankylosaurus.jpg' },
      { id: 'spinosaurus', name: 'Spinosaurus', tags: ['carnivore', 'aquatic', 'aggressive', 'giant'], desc: 'The River King. A powerful specialist who dominates both land and water.', img: './images/Spinosaurus.jpg' },
      { id: 'allosaurus', name: 'Allosaurus', tags: ['carnivore', 'aggressive', 'fast', 'solitary'], desc: 'The Opportunist. Swift and always on the lookout, never missing a chance to get ahead.', img: './images/Allosaurus.jpg' },
      { id: 'apatosaurus', name: 'Apatosaurus', tags: ['herbivore', 'peaceful', 'giant', 'social'], desc: 'The Wanderer. Colossal and placid, content to explore vast landscapes at your own pace.', img: './images/Apatosaurus.jpg' },
      { id: 'parasaurolophus', name: 'Parasaurolophus', tags: ['herbivore', 'peaceful', 'social', 'smart'], desc: 'The Musician. Communicative and loud, using your unique voice to keep the group together.', img: './images/Parasaurolophus.jpg' },
      { id: 'dilophosaurus', name: 'Dilophosaurus', tags: ['carnivore', 'aggressive', 'fast', 'smart'], desc: 'The Showman. Quick, agile, and maybe a little toxic when you want to be.', img: './images/Dilophosaurus.jpg' },
      { id: 'iguanodon', name: 'Iguanodon', tags: ['herbivore', 'peaceful', 'smart', 'social'], desc: 'The Adapter. Resourceful and versatile, able to handle any situation on two legs or four.', img: './images/Iguanodon.jpg' },
      { id: 'pteranodon', name: 'Pteranodon', tags: ['carnivore', 'flying', 'fast', 'solitary'], desc: 'The Aviator. Graceful and soaring, commanding a perspective above everyone else.', img: './images/Pteranodon.jpg' },
      { id: 'gallimimus', name: 'Gallimimus', tags: ['omnivore', 'fast', 'skittish', 'social'], desc: 'The Sprinter. High energy and always moving, usually away from responsibility.', img: './images/Gallimimus.jpg' },
      { id: 'pachycephalosaurus', name: 'Pachycephalosaurus', tags: ['herbivore', 'aggressive', 'tank', 'solitary'], desc: 'The Headbanger. Blunt and stubborn, solving problems with sheer force of will (and skull).', img: './images/Pachycephalosaurus.jpg' },
      { id: 'compsognathus', name: 'Compsognathus', tags: ['carnivore', 'fast', 'small', 'scavenger'], desc: 'The Scrappy Survivor. Tiny but energetic, always finding opportunity where others see scraps.', img: './images/Compsognathus.jpg' },
      { id: 'archaeopteryx', name: 'Archaeopteryx', tags: ['carnivore', 'flying', 'small', 'smart'], desc: 'The Pioneer. Curious and transitional, bridging the gap between two worlds.', img: './images/Archaeopteryx.jpg' },
      { id: 'argentinosaurus', name: 'Argentinosaurus', tags: ['herbivore', 'giant', 'slow', 'peaceful'], desc: 'The Titan. Massive presence, dominating the room simply by existing.', img: './images/Argentinosaurus.jpg' },
      { id: 'carnotaurus', name: 'Carnotaurus', tags: ['carnivore', 'aggressive', 'fast', 'solitary'], desc: 'The Charger. Short-tempered but incredibly fast when you see what you want.', img: './images/Carnotaurus.jpg' },
      { id: 'deinonychus', name: 'Deinonychus', tags: ['carnivore', 'aggressive', 'smart', 'social'], desc: 'The Pack Leader. Ferocious and collaborative, executing plans with deadly precision.', img: './images/Deinonychus.jpg' },
      { id: 'diplodocus', name: 'Diplodocus', tags: ['herbivore', 'giant', 'peaceful', 'slow'], desc: 'The Whip-Tail. Long, slender, and mostly chill, but dangerous if pushed too far.', img: './images/Diplodocus.jpg' },
      { id: 'edmontosaurus', name: 'Edmontosaurus', tags: ['herbivore', 'social', 'peaceful'], desc: 'The Socialite. Always surrounded by friends, constantly communicating and moving together.', img: './images/Edmontosaurus.jpg' },
      { id: 'giganotosaurus', name: 'Giganotosaurus', tags: ['carnivore', 'giant', 'aggressive', 'solitary'], desc: 'The Rival. Bigger and badder than the rest, always looking to challenge the throne.', img: './images/giganotosaurus.jpg' },
      { id: 'kentrosaurus', name: 'Kentrosaurus', tags: ['herbivore', 'tank', 'defensive', 'solitary'], desc: 'The Prickly Pair. Cautious and well-defended, bristling with spikes to keep haters away.', img: './images/Kentrosaurus.jpg' },
      { id: 'maiasaura', name: 'Maiasaura', tags: ['herbivore', 'social', 'nurturing', 'peaceful'], desc: 'The Caretaker. Devoted to your circle, known for taking care of everyone else.', img: './images/Maiasaura.jpg' },
      { id: 'megalosaurus', name: 'Megalosaurus', tags: ['carnivore', 'aggressive', 'giant'], desc: 'The Classic. A robust and active leader, demonstrating early dominance.', img: './images/Megalosaurus.jpg' },
      { id: 'microraptor', name: 'Microraptor', tags: ['carnivore', 'flying', 'small', 'fast'], desc: 'The Glider. Small, agile, and moving between levels with ease.', img: './images/Microraptor.jpg' },
      { id: 'oviraptor', name: 'Oviraptor', tags: ['omnivore', 'smart', 'nurturing'], desc: 'The Misunderstood. Fiercely protective and devoted, despite what rumors say.', img: './images/Oviraptor.jpg' },
      { id: 'protoceratops', name: 'Protoceratops', tags: ['herbivore', 'tank', 'small', 'social'], desc: 'The Scrapper. Sturdy and grounded, diligent in your work and occasional turf wars.', img: './images/Protoceratops.jpg' },
      { id: 'styracosaurus', name: 'Styracosaurus', tags: ['herbivore', 'tank', 'aggressive', 'solitary'], desc: 'The Spike. Visually striking and defensive, you make a statement just by entering the room.', img: './images/Styracosaurus.jpg' },
      { id: 'suchomimus', name: 'Suchomimus', tags: ['carnivore', 'aquatic', 'patient'], desc: 'The Angler. Patient and adaptable, willing to wait for the perfect opportunity.', img: './images/Suchomimus.jpg' },
      { id: 'tarbosaurus', name: 'Tarbosaurus', tags: ['carnivore', 'aggressive', 'giant'], desc: 'The Eastern King. A fearsome hunter commanding respect in your own domain.', img: './images/Tarbosaurus.jpg' },
      { id: 'therizinosaurus', name: 'Therizinosaurus', tags: ['herbivore', 'weird', 'giant', 'defensive'], desc: 'The Wolverine. Uniquely armed and mysterious, serving up serious "don\'t touch me" energy.', img: './images/Therizinosaurus.jpg' },
      { id: 'troodon', name: 'Troodon', tags: ['omnivore', 'smart', 'nocturnal', 'fast'], desc: 'The Mastermind. Intelligent and keen-eyed, analyzing every situation before acting.', img: './images/Troodon.jpg' },
      { id: 'utahraptor', name: 'Utahraptor', tags: ['carnivore', 'aggressive', 'giant', 'fast'], desc: 'The Heavy Hitter. Larger and meaner than your cousins, you bring the muscle.', img: './images/Utahraptor.jpg' },
      { id: 'chasmosaurus', name: 'Chasmosaurus', tags: ['herbivore', 'tank', 'social'], desc: 'The Frill. Distinctive and ornamented, part of a group that loves to show off.', img: './images/Chasmosaurus.jpg' },
      { id: 'coelophysis', name: 'Coelophysis', tags: ['carnivore', 'fast', 'social', 'slim'], desc: 'The Scout. Slender and swift, working with the team to find the best spots.', img: './images/Coelophysis.jpg' },
      { id: 'corythosaurus', name: 'Corythosaurus', tags: ['herbivore', 'social', 'loud'], desc: 'The Helmet. Distinctive and vocal, using your head (literally) to be heard.', img: './images/Corythosaurus.jpg' },
      { id: 'cryolophosaurus', name: 'Cryolophosaurus', tags: ['carnivore', 'cold', 'aggressive'], desc: 'The Ice King. Cool under pressure and adapted to environments others find chilling.', img: './images/Cryolophosaurus.jpg' },
      { id: 'gastonia', name: 'Gastonia', tags: ['herbivore', 'tank', 'passive'], desc: 'The Wall. Low-slung and heavily armored, relying on thick skin rather than speed.', img: './images/Gastonia.jpg' },
      { id: 'hadrosaurus', name: 'Hadrosaurus', tags: ['herbivore', 'adaptable', 'social'], desc: 'The Duckbill. Highly adaptable and capable, a key player in any group.', img: './images/Hadrosaurus.jpg' },
      { id: 'hypsilophodon', name: 'Hypsilophodon', tags: ['herbivore', 'fast', 'scittish'], desc: 'The Sprinter. Nimble and quick-footed, escaping drama with pure speed.', img: './images/Hypsilophodon.jpg' },
      { id: 'minmi', name: 'Minmi', tags: ['herbivore', 'tank', 'small'], desc: 'The Compact. A small package of pure defense, tough as nails despite the size.', img: './images/Minmi.jpg' },
      { id: 'ouranosaurus', name: 'Ouranosaurus', tags: ['herbivore', 'weird', 'flashy'], desc: 'The Sail. Distinctive and bold, using your unique style to stand out.', img: './images/Ouranosaurus.jpg' },
      { id: 'plateosaurus', name: 'Plateosaurus', tags: ['herbivore', 'adaptable', 'old-school'], desc: 'The Ancestor. Versatile and foundational, setting the standard for those who follow.', img: './images/Plateosaurus.jpg' },
      { id: 'plesiosaurus', name: 'Plesiosaurus', tags: ['carnivore', 'aquatic', 'graceful'], desc: 'The Loch Ness. Graceful and fluid, gliding through life (and water) with elegance.', img: './images/Plesiosaurus.jpg' },
      { id: 'postosuchus', name: 'Postosuchus', tags: ['carnivore', 'aggressive', 'old-school'], desc: 'The OG. A robust predator who was ruling before it was cool.', img: './images/Postosuchus.jpg' },
      { id: 'riojasaurus', name: 'Riojasaurus', tags: ['herbivore', 'giant', 'slow'], desc: 'The Heavyweight. A dedicated plant-eater who takes life one heavy step at a time.', img: './images/Riojasaurus.jpg' },
      { id: 'saltasaurus', name: 'Saltasaurus', tags: ['herbivore', 'giant', 'tank'], desc: 'The Armored Titan. Proving that even the biggest among us need a little extra protection.', img: './images/saltasaurus.jpg' },
      { id: 'herrerasaurus', name: 'Herrerasaurus', tags: ['carnivore', 'old-school', 'aggressive'], desc: 'The Prototype. One of the first, tough and formidable, setting the mold for all hunters.', img: './images/Herrerasaurus.jpg' }
    ];

    // --- LOGIC ---
    // Tag scoring system
    // 6 Questions to cover key tags
    const questions = [
      {
        text: "It's Friday night. What's the plan?",
        answers: [
          { label: "Hunt connection (Party)", tags: ['social', 'fast', 'loud'] },
          { label: "Stay home (Fortress)", tags: ['solitary', 'tank', 'passive'] },
          { label: "Explore new places", tags: ['smart', 'adaptable', 'aquatic'] },
          { label: "Rule the room", tags: ['aggressive', 'giant', 'carnivore'] }
        ]
      },
      {
        text: "Someone eats your leftovers. You:",
        answers: [
          { label: "Bite them", tags: ['aggressive', 'carnivore'] },
          { label: "Complain loudly", tags: ['loud', 'social'] },
          { label: "Plotted revenge already", tags: ['smart', 'carnivore'] },
          { label: "Whatever, I have more", tags: ['peaceful', 'giant', 'herbivore'] }
        ]
      },
      {
        text: "Choose a superpower:",
        answers: [
          { label: "Flight / Speed", tags: ['flying', 'fast'] },
          { label: "Invisibility / Camo", tags: ['solitary', 'smart'] },
          { label: "Invincibility (Armor)", tags: ['tank', 'defensive'] },
          { label: "Super Strength", tags: ['giant', 'aggressive'] }
        ]
      },
      {
        text: "Favorite food group?",
        answers: [
          { label: "Steak / Meat", tags: ['carnivore'] },
          { label: "Salad / Veggies", tags: ['herbivore'] },
          { label: "Seafood", tags: ['aquatic', 'carnivore'] },
          { label: "Anything edible", tags: ['omnivore', 'scavenger'] }
        ]
      },
      {
        text: "In a group project, you are:",
        answers: [
          { label: "The Leader", tags: ['social', 'smart', 'aggressive'] },
          { label: "The Worker Bee", tags: ['social', 'adaptable'] },
          { label: "The Ghost", tags: ['solitary', 'fast'] },
          { label: "The Correction Police", tags: ['smart', 'loud'] }
        ]
      },
      {
        text: "Your vibe in one word:",
        answers: [
          { label: "Chaos", tags: ['fast', 'aggressive', 'weird'] },
          { label: "Chill", tags: ['peaceful', 'slow', 'herbivore'] },
          { label: "Elegant", tags: ['graceful', 'flying', 'aquatic'] },
          { label: "Tough", tags: ['tank', 'aggressive', 'giant'] }
        ]
      }
    ];

    // --- Components ---

    // Background 3D
    function Background3D() {
      return (
        <div id="canvas-container">
          <Canvas camera={{ position: [0, 0, 5] }}>
            <ambientLight intensity={0.5} />
            <Stars radius={100} depth={50} count={5000} factor={4} saturation={0} fade speed={1} />
            <Float speed={2} rotationIntensity={0.5} floatIntensity={0.5}>
              <group position={[3, -2, -5]}>
                <mesh rotation={[0.5, 0.5, 0]}>
                  <dodecahedronGeometry args={[0.5, 0]} />
                  <meshStandardMaterial color="#333" wireframe />
                </mesh>
              </group>
            </Float>
          </Canvas>
        </div>
      );
    }

    function Navbar() {
      return (
        <nav className="navbar">
          <Link href="/">
            <a className="brand">DINOFLIX</a>
          </Link>
          {/* Non-functional links removed as requested */}
        </nav>
      );
    }

    function Hero() {
      return (
        <div className="hero">
          <div className="hero-content">
            <h1 className="hero-title">CHAOTIC<br />DINOS</h1>
            <p className="hero-subtitle">50 Species. One Quiz. Discover your prehistoric personality now.</p>
            <div className="btn-group">
              <Link href="/quiz">
                <a className="btn btn-play">▶ Play Quiz</a>
              </Link>
              <button className="btn btn-info">
                ℹ More Info
              </button>
            </div>
          </div>
        </div>
      );
    }

    function DinoRow({ title, filterFn }) {
      const filtered = useMemo(() => dinoData.filter(filterFn), [filterFn]);
      if (filtered.length === 0) return null;

      return (
        <div className="row">
          <div className="row-title">{title}</div>
          <div className="row-cards">
            {filtered.map(dino => (
              <Link key={dino.id} href={`/info?id=${dino.id}`}>
                <div className="card">
                  <img src={dino.img} alt={dino.name} className="poster-img" />
                  <div className="card-content">
                    <div style={{ fontWeight: 'bold', fontSize: '0.9rem', color: '#fff' }}>{dino.name}</div>
                    <div style={{ fontSize: '0.7rem', color: '#aaa' }}>{dino.tags.slice(0, 2).join(' • ')}</div>
                  </div>
                </div>
              </Link>
            ))}
          </div>
        </div>
      );
    }

    function QuizModal() {
      const [qIndex, setQIndex] = useState(0);
      // userTags: { aggressive: 2, carnivore: 1 ... }
      const [userTags, setUserTags] = useState({});
      const [location, setLocation] = useLocation();

      const handleAnswer = (tags) => {
        const newTags = { ...userTags };
        tags.forEach(t => {
          newTags[t] = (newTags[t] || 0) + 1;
        });
        setUserTags(newTags);

        if (qIndex < questions.length - 1) {
          setQIndex(qIndex + 1);
        } else {
          // Calculate winner
          // For each dino, calculate score = overlapping tags with user * userTagCount
          let bestDino = dinoData[0];
          let bestScore = -1;

          dinoData.forEach(dino => {
            let score = 0;
            dino.tags.forEach(t => {
              if (newTags[t]) score += newTags[t];
            });
            if (score > bestScore) {
              bestScore = score;
              bestDino = dino;
            } else if (score === bestScore) {
              // break tie randomly
              if (Math.random() > 0.5) bestDino = dino;
            }
          });

          localStorage.setItem('dinoUserTags', JSON.stringify(newTags));
          setLocation(`/result?winner=${bestDino.id}`);
        }
      };

      const currentQ = questions[qIndex];
      const progress = ((qIndex + 1) / questions.length) * 100;

      return (
        <div className="modal-overlay">
          <div className="quiz-container">
            <div className="quiz-header">
              <span>QUESTION {qIndex + 1}/{questions.length}</span>
              <Link href="/"><span style={{ cursor: 'pointer' }}>✖</span></Link>
            </div>
            <div className="progress-bar">
              <div className="progress-fill" style={{ width: `${progress}%` }}></div>
            </div>
            <div className="quiz-body">
              <h2 className="question-text">{currentQ.text}</h2>
              <div className="answers-grid">
                {currentQ.answers.map((ans, i) => (
                  <button key={i} className="answer-btn" onClick={() => handleAnswer(ans.tags)}>
                    {ans.label}
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
      );
    }

    function DinoInfo() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      const dino = dinoData.find(d => d.id === id) || dinoData[0];

      return (
        <div className="result-hero" style={{ background: 'linear-gradient(to top, #141414, transparent), url(' + dino.img + ') no-repeat center center / cover' }}>
          <div style={{ background: 'rgba(0,0,0,0.7)', padding: '40px', borderRadius: '8px', maxWidth: '800px' }}>
            <h1 className="dino-name" style={{ fontSize: '4rem' }}>{dino.name}</h1>
            <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', marginBottom: '20px' }}>
              {dino.tags.map(tag => (
                <span key={tag} style={{ background: '#333', padding: '4px 8px', borderRadius: '4px', fontSize: '0.8rem', textTransform: 'uppercase' }}>{tag}</span>
              ))}
            </div>
            <p className="dino-desc" style={{ fontSize: '1.2rem' }}>{dino.desc}</p>
            <div className="btn-group" style={{ justifyContent: 'center', marginTop: '30px' }}>
              <Link href="/">
                <a className="btn btn-play">⌂ Home</a>
              </Link>
              <Link href="/quiz">
                <a className="btn btn-info">↻ Retake Quiz</a>
              </Link>
            </div>
          </div>
        </div>
      );
    }

    function ResultPage() {
      const [location] = useLocation();
      const params = new URLSearchParams(window.location.search);
      const winnerKey = params.get('winner') || 'trex';
      const dino = dinoData.find(d => d.id === winnerKey) || dinoData[0];

      const [analysis, setAnalysis] = useState('');
      const [loading, setLoading] = useState(false);

      const generateAnalysis = async () => {
        setLoading(true);
        try {
          const tags = JSON.parse(localStorage.getItem('dinoUserTags') || '{}');
          const res = await fetch('/api/analyze', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ dinoId: dino.id, tags })
          });
          const data = await res.json();
          if (data.analysis) {
            setAnalysis(data.analysis);
          } else {
            setAnalysis("AI is currently sleeping (Missing API Key on Vercel). But trust me, you're awesome.");
          }
        } catch (e) {
          setAnalysis("Could not reach the dino brain. Try again later.");
        }
        setLoading(false);
      };

      return (
        <div className="result-hero">
          <div className="match-score">98% Match</div>
          <h1 className="dino-name">{dino.name}</h1>
          <p className="dino-desc">Tap the image below to learn more about your dino soulmate.</p>

          <Link href={`/info?id=${dino.id}`}>
            <div className="card" style={{ width: '300px', height: '400px', margin: '20px auto', border: '4px solid #fff' }}>
              <img src={dino.img} alt={dino.name} className="poster-img" />
              <div className="card-content" style={{ alignItems: 'center' }}>
                <span style={{ textTransform: 'uppercase', fontWeight: 'bold', letterSpacing: '2px', color: '#fff' }}>More Info</span>
              </div>
            </div>
          </Link>

          {analysis && (
            <div style={{ background: '#222', padding: '20px', borderRadius: '8px', maxWidth: '600px', margin: '20px auto', border: '1px solid #444' }}>
              <h3 style={{ color: '#e50914', marginTop: 0 }}>AI Personality Roast</h3>
              <p style={{ fontSize: '1.1rem', lineHeight: '1.5' }}>{analysis}</p>
            </div>
          )}

          <div className="btn-group">
            <button className="btn btn-play" onClick={generateAnalysis} disabled={loading}>
              {loading ? 'Thinking...' : '✨ AI Analyze Me'}
            </button>
            <Link href="/">
              <a className="btn btn-info">⌂ Home</a>
            </Link>
          </div>
        </div>
      );
    }

    function Home() {
      return (
        <>
          <Hero />
          {/* Virtual Categories */}
          <DinoRow title="Trending Now" filterFn={d => ['trex', 'spinosaurus', 'raptor', 'triceratops'].includes(d.id)} />
          <DinoRow title="Apex Predators" filterFn={d => d.tags.includes('carnivore') && d.tags.includes('aggressive')} />
          <DinoRow title="Peaceful Giants" filterFn={d => d.tags.includes('herbivore') && d.tags.includes('giant')} />
          <DinoRow title="Tank Spec" filterFn={d => d.tags.includes('tank')} />
          <DinoRow title="Small but Mighty" filterFn={d => d.tags.includes('small')} />
          <DinoRow title="Aquatic & Aerial" filterFn={d => d.tags.includes('aquatic') || d.tags.includes('flying')} />
          <DinoRow title="See All Dinosaurs" filterFn={d => true} />
        </>
      );
    }

    function App() {
      return (
        <>
          <Background3D />
          <Navbar />
          <Switch>
            <Route path="/" component={Home} />
            <Route path="/quiz" component={QuizModal} />
            <Route path="/result" component={ResultPage} />
            <Route path="/info" component={DinoInfo} />
          </Switch>
        </>
      );
    }

    const root = createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>

</html>